

# 十二、Streamlit 用户访谈

欢迎来到本书的最后一章！在这一章中，我们将向最优秀的人学习，从拥有创建数十个应用和组件经验的 Streamlit 创建者，从 Streamlit 超级用户转变为 Streamlit 员工，甚至是现在经营支持图书馆发展的新兴公司的 Streamlit 图书馆的创始人。我们坐下来采访了四位不同的用户，了解了他们的背景、使用 Streamlit 的体验，以及他们对所有体验级别的用户有什么建议。通过这些采访，我们将了解他们如何在日常工作、教学中使用 Streamlit，以及 Streamlit 将何去何从。

本章分为四个访谈:

*   Worldline 的 Streamlit 创建者和技术主管 Fanilo Andrianasolo
*   Johannes Rieke，Streamlit 创造者转型工程师
*   Adrien Treuille，Streamlit 创始人兼首席执行官
*   Charly Wargnier，Streamlit 创建者和 SEO 顾问

首先，我们从法尼罗开始！

# 第一次面试——法尼洛·安德里亚纳索洛

嘿，法尼洛！在我们开始之前，你想向读者介绍一下你自己吗？你的背景是什么？你花时间做什么，你为谁工作？

大家好！我叫 Fanilo Andrianasolo，来自马达加斯加，在 Worldline 工作，这是欧洲领先的数字支付和交易服务公司之一。我在那里担任数据科学和商业智能倡导者和技术负责人，帮助内部产品和开发团队构建新数据科学用例的原型，设计这些用例，然后将它们投入生产。因此，我的大部分工作集中在整合 Worldline 内部的数据分析，这是一项艰巨的任务，因为它涵盖了从金融到欺诈检测、零售和客户分析等多个行业。我也是一名数据科学倡导者，所以我在内部或向潜在客户进行多次演讲，我可以向他们展示，“这是数据科学，别担心，没那么难”或“这是一个随机森林，别担心，没有你想象的那么复杂。”另外，我是里昂一所大学的大数据和 NoSQL 讲师，每年在那里教大约 50 个小时的课。这是一个很好的机会，可以和学生交谈，看着他们成长为优秀的软件工程师和数据科学家！

(泰勒)听起来真棒！在我看来，你基本上有两个非常有趣的角色，你必须向他人解释数据科学概念，一个是在工作中，另一个是在大学中。你在这两种情况下都使用 Streamlit 吗？

是的，我愿意！当我发现 Streamlit 时，它是用于内部工作的。起初，我在上工作，跟踪来自不同机器的一些指标，并想在不使用 Jupyter Notebook 的情况下展示它们，因为我不想每次都点击并运行每个单元。我尝试了 Streamlit，我真的被它的快捷和简单所吸引。

在我的大学讲座中，我主要做 PySpark、MongoDB 和 Elasticsearch 讲座，我通过他们的 Python 插件演示这些内容。我会展示一个附带代码的 Streamlit 应用，我会在我的学生面前更改代码，所有 Python 变量都会在应用上实时更新。例如，当您用 PySpark 编写构建 MapReduce 作业的代码时，很容易向他们展示代码，甚至一起做一些编码练习。为了展示代码是如何工作的，我只是在代码中放了一个函数，结果就在 Streamlit 应用的右边。它真的很动态，对我来说是展示和讲述代码的一种非常简单的方式。

(Tyler)您为这两个群体开发 Streamlit 应用的方式有什么不同吗？我觉得有很多相似之处，但有什么不同呢？

对于学生来说，这将是一个从上到下运行的单一脚本，因此很容易理解；对他们来说就像是现场演示。而当我在我的公司时，我会将 Streamlit 集成到更大的项目中，所以通常已经有一个项目结构，其中有一个专门用于 UI 工作的文件夹。对于工作项目，Streamlit 应用将使用来自多个库和多个模块的函数，所以有点不同。我们在工作中分发和使用 Streamlit 应用的方式也有点不同，因为在大学，我可以在我的机器上做任何事情。当我在工作的时候，我不得不担心更多，比如我能把这个放入缓存吗？我可以重写同事的函数吗，因为它不能进入 Streamlit 哈希？我的专业工作中的限制使得编写 Streamlit 应用变得更加复杂。

我很好奇你在工作中是如何部署的。你会在 Heroku 服务器上为团队使用 Streamlit 吗？还是都在本地做？

(Fanilo)我们内部有两台服务器，我在其中部署我的 Streamlit 应用。公司内部使用 Streamlit 的人不多，所以我可以暂时将该应用托管在服务器上，以便营销部门可以使用该应用。对于不了解 Python 的技术人员，我只是给他们发送脚本，告诉他们如何使用 Anaconda 运行 Python。

(Tyler)那么您谈了一下您第一次使用 Streamlit 的情况。你是在推特上发现的，还是从某个论坛上发现的？是什么让你开始的？您最初的用例是什么？

我想我是从推特上听说的。起初，我对它不屑一顾，心想，“哦，这只是另一个 Python 库，我会把它放在我的待办事项列表中，以便有一天尝试一下。”两个月后，我在为一位潜在客户进行实时数据科学演示时尝试了这种方法。他们希望跟踪不同网站的访问指标，并将其可视化。事实上，我们很大一部分客户只是要求我们提供一些数据分析。他们没有想到 KPI、分析业务用例或通过数据回答的业务问题。这些总是很难开始，我通常为他们构建一个小型的交互式演示，以帮助他们理解数据科学过程。我当时想，“哦，我应该试试 Streamlit。”

在此之前，我实际上为另一位使用 Jupyter 笔记本的客户做了一次演示，客户不感兴趣，因为他们认为这太专业了；他们不喜欢看代码。因此，我想，对于这位客户，也许我应该尝试 Streamlit 来展示一个网格图，使用滑块来决定您想要可视化多少数据。对于这个问题，我们希望在一组日期上做窗口，以回答这些网站的平均访问量是多少，并希望能够决定窗口的大小。我们可以把它放在 Streamlit 的侧边栏中，这是一个向客户实时展示结果的好机会。因此，我们将这个滑块添加到 Streamlit 应用中，并将其交给客户，您可以看到何时出现峰值，以便进一步分析。是的，这就是我如何通过在内部和外部演示数据科学来更多地了解 Streamlit 的。

我经常遇到这种情况，当客户提出要求时，他们不知道自己想要什么。多么伟大的用例啊！我想和你谈谈的一件事是 Streamlit 社区，在过去的一年里，你已经成为了这个社区的一名重要成员。Streamlit 如何说服您继续投资于生态系统？

(Fanilo)对我来说，让我迷上 Streamlit 的是我在做前端工程时错过的反馈回路。我可以写一些代码，然后马上在屏幕上看到结果。我可以在 CSS 中编辑颜色，然后看到变化。Streamlit 中的反馈循环如此之短，加上 API 的简单性，这使得构建一个基本的应用非常容易，这是真正吸引我加入该框架的原因。我还和 Adrian (Streamlit 的创始人)进行了一次对话，我告诉他反馈回路真的让我想起了网络生态系统，对我来说这就是 Streamlit 的秘方。

另一件事是，现在我们可以轻松地将 web 组件集成到 Streamlit 中，这使得我们可以轻松地为数据科学家构建更加多样化的 web 交互应用。我总是从与我的学生或其他同事或聚会中的人交谈中得到这样的印象，他们总是努力构建交互式应用，在这些应用中，他们可以选择或绘制一些东西，并使用这些图形作为他们机器学习模型的输入。为此，他们需要预先绘制，然后将图像加载到 Jupyter 笔记本中，这需要太多时间，但有 HTML 组件可供绘制。Streamlit 通过组件充当 Python 和 web 之间的桥梁，正是这一点让我们这些创作者迷上了将 web 生态系统拉入 Streamlit。

(泰勒)说到基于网络的平台，你已经花了很多时间来构建组件，比如我们在本书前面谈到的 streamlit-Lottie([https://github.com/andfanilo/streamlit-lottie](https://github.com/andfanilo/streamlit-lottie))、streamlit-draw able-canvas(【https://github.com/andfanilo/streamlit-drawable-canvas】T5)和甚至 streamlit-echarts([https://github.com/andfanilo/streamlit-echarts](https://github.com/andfanilo/streamlit-echarts))。你能和我们谈谈你是如何想到组件的吗？

对于这三个部分，我有两个不同的故事。我将从 streamlit-lottie 开始；这个想法在一个无聊和滚动 Twitter 的周六晚上突然出现在我的脑海里。我在 Lottie 文件中看到了不错的动画，我对自己说，“哦，那很好，我想在 Streamlit 中有一些像这样的很酷的动画，”所以我就创建了它。这就是真正的原因，希望引入更多的 web 组件来 Streamlit。

对于 streamlit-echarts 和 streamlit-drawable-canvas，有一个更大的用例。几年前，我使用 TensorFlow.js 进行演示，时间很紧。我想在图纸上进行训练和推理，我花了 5 天时间在 JavaScript 生态系统中创建演示，混合 Fabric.js 用于在画布上绘图，并使用 Echarts 显示结果。这非常艰难，尤其是因为这是我真正踏入前端工程世界的第一步。然后当 Streamlit 出来时，我想看看如果 Fabric.js 和 Echarts 组件已经存在，其他用户是否可以在几个小时而不是几天内构建这个演示，所以我将这个演示的代码提取到外部库和 voilà！

我的思考过程总是，我们能为 Streamlit 带来什么样的新输入和输出？例如，我们可以将实时音乐输入引入 Streamlit 吗？今天，深度学习领域的每个人都在谈论图像和声音，所以这将是一个很大的组成部分。作为输出，有许多流行的 JavaScript 库以交互方式显示数据，这将有助于分析。我的目标一直是，我能为 Streamlit 添加什么样的 web 支持的输入和输出？希望 web 开发人员会想在 Streamlit 中加入更多的东西！

(Tyler)您可能已经见过大量使用您的组件的 Streamlit 应用。我可以想象，你会对 streamlit-lottie 或 streamlit-echarts 的巧妙使用感到非常兴奋。当你看到那种东西的时候，你只是兴奋吗？你有没有一些你真正喜欢的应用，它们是由你自己开发的组件构建而成的？

(Fanilo)这些是我的第一个真正的开源项目，我在其中投入了一些精力来构建和推广它们。我喜欢这些工具如此灵活，可以用于许多我从未想象过的用例，尤其是 streamlit-draw-canvas。我看到有一个用户会在 Streamlit 中显示一个足球场的侧视图，然后他会在球场图像上的画布内绘制地形的界限，然后进行一些 3D 重新映射，将其转换为俯视图，并能够分析球员的位置。我当时想，哇，谁会这么做？

有人将 Streamlit 用于医疗目的。例如，他们想在一堆图像的每一片上画出一些分子的位置，这样他们就可以画出这种分子的 3D 版本。我甚至看到了一个来自纪娜人工智能的应用，他们建立了一个神奇宝贝识别器([https://github.com/jina-ai/integration-streamlit-pokemon](https://github.com/jina-ai/integration-streamlit-pokemon))！所以你可以画一个神奇宝贝，它会把画注入神经网络来识别你想画的神奇宝贝。从没想过会这样，你知道吗？是啊，太神奇了。

听起来太棒了。对于新手入门 Streamlit 有什么小技巧吗？你有什么希望自己已经知道的事情吗，比如你刚开始的时候？

对我来说，这是对新图书馆的持续实验。如果有一个新的 Python 库，我常常只想了解它是如何工作的。如果我改变这个参数会发生什么，每个参数如何影响输出？因此，我只是引导一个新的 Streamlit 脚本并导入库。然后对于你拥有的每个参数，你可以构建一个滑块，一个数字输入，一个日期输入，然后你开始构建这个未知库的演示，而 Streamlit 只是帮助你最大限度地探索它。然后你想知道如何更好地布局，如何为应用保留一些状态，这就是你开始深入研究 Streamlit 的地方。我们谈论了很多关于 Streamlit 组件的 web 生态系统。但我也认为 Streamlit 是展示任何 Python 库，任何来自 Python 生态系统的东西的最佳方式之一。

除此之外，我想说的是与网上的社区互动。Streamlit 社区实际上是我第一次与在线社区互动，与我根本不认识也不认识的人互动。我不记得我写的第一篇文章或第一个话题，但我记得我花了很多精力去写它。我知道当众提问需要勇气，我会说:敢在论坛上写新帖。如果你正在与 Streamlit 或 Python 作斗争，尝试在社区论坛(【https://discuss.streamlit.io/】T2)上发布一些东西是一个很好的体验，因为那里的人真的很好；总有人愿意帮忙。我会鼓励人们使用 Streamlit 并进行创新，然后去论坛询问他们不明白的问题。有很多隐藏的功能只有在论坛里才能看到，这就是为什么我鼓励人们去论坛。

(泰勒)是的，肯定的。坐在互联网的小地方积累知识，这是一个非常有趣的案例。问这个问题很可怕，因为你总是这样，“哦，如果他们认为我真的很笨怎么办？”这通常是第一个关注的问题，向他人发出信号，表明你知道自己在做什么。但 Streamlit 社区的每个人看起来都非常好，坦率地说，这是互联网上的一大变化。

是的，也许我太习惯于和学生互动了，这帮助我理解了向一个“陌生人”问你的第一个在线问题的恐惧最糟糕的事情发生在我的一个学生身上，他们想要克隆一个 Git repo，而日志显示这个文件夹已经存在于他们的机器上，所以他们不能克隆它。答案很简单，就写在我们眼前的日志上，至少我们很容易解读，对吗？但是当你第一次编码时，你不知道这个日志意味着什么，或者你甚至应该检查日志。所以，我试着回答问题，就像我第一次回答我的学生编码一样，并把这作为我们社区的一个标杆，这样每个人都意识到我们都是初学者，我们应该引导他们进入庞大的 Python/Streamlit 世界，而不是回答“去读手册吧。”

一年前，我对网络社区一点也不感兴趣。我也害怕这样做。现在我在这里，一个论坛版主和 Streamlit 创建者。一年前，我做梦也想不到会这样做。所以，提问吧，各位！

(泰勒)非常感谢你抽出时间，法尼罗！对于任何想了解更多的读者，你可以在 https://github.com/andfanilo 的[找到 Fanilo 的 GitHub，在 https://streamlit-components-tutorial.netlify.app/的](https://github.com/andfanilo)[找到他的构建 Streamlit 组件的教程。](https://streamlit-components-tutorial.netlify.app/)

# 第二次面试——约翰内斯·里克

嘿，约翰尼斯！在我们开始之前，你想给我们一个简短的自我介绍吗？你过去在哪里工作过，你是做什么的，你的背景是什么？

你好！我来自德国，目前住在柏林。嗯，如你所知，我目前在 Streamlit 工作，已经工作了两个月，但我的背景实际上是物理学。所以我在大学学的是物理，不知怎么的我进入了神经科学。我选了几门课，做了几个项目，真的很喜欢它，尤其是与计算机科学的结合，做神经细胞、大脑的模拟，诸如此类的东西。我对此非常感兴趣。我决定攻读计算神经科学的硕士学位，这是神经科学和机器学习的结合。在那个项目中，我在机器学习的各种不同领域做了很多东西，像医学成像，自然语言处理，图形网络，各种各样的东西。硕士毕业后，我参与了几个开源项目。事实上，我想去旅行更长的时间，但 Covid 来了，我不得不比我预期的更早回到德国。然后我进入开源项目，开始用 Streamlit 做很多事情，这就是我今天的位置，在 Streamlit 做产品工程师。

非常有趣！你是什么时候开始接触 Python 生态系统的？那是在你学物理的时候吗？

(约翰内斯)是的，那是很久以前的事了，基本上是在我学士学位开始的时候，或者是我学士学位的第一年。我从高中就开始编程了。最开始是从 Java 开始的，然后在 2013 年，本科期间，我迷上了 Python，真的爱上了它。因为对于我正在做的事情，从计算和模拟开始，到后来的机器学习，Python 真是太棒了。

你用 Java 做过机器学习吗？我没见过很多用 Java 工作或者需要用 Java 写东西的 ML 工程师。

(Johannes)我绝对是用 Python 工作的。在我攻读硕士学位之前，我实际上在一个研究实验室工作了一年，在那段时间里，我用 C++做了一些计算性的东西，但那真是太可怕了。如果我当时知道 Python，我可能会用 Python 做所有的事情，并且只用十分之一的时间就完成了。

(Tyler)我知道很多人会用 Python 做他们的大部分工作，然后如果他们强烈需要让算法更快，他们会切换到更低级的语言，这在最好的情况下是过度的。所以在那一点上，你真的参与了 Python，并用 Python 编写了一段时间，然后你开始在 Streamlit 中制作这些机器学习项目，就像你的 Traingenerator 应用([https://traingenerator.jrieke.com/](https://traingenerator.jrieke.com/))，这是一个为你编写机器学习代码的多用途应用。你创作这些作品的动机是什么？回馈社区，展示你的作品，创建个人作品集，或者做一些完全不同的事情？

![Figure 12.1 – Traingenerator app
](img/B16864_12_1.jpg)

图 12.1–列车发电机应用

(Johannes)是的，这是大多数这些点的组合。去年毕业后的春天开始使用 Streamlit。毕业后我去旅行了，但和 Covid 一起，我不得不回到德国，显然有很多空闲时间。我的一些朋友和以前的同事已经开始从事一个开源项目，这是在 Covid 跟踪领域，所以我加入了他们。作为其中的一部分，我们需要一个小仪表板，一个朋友告诉我关于 Streamlit 的事情，我试了一下，觉得它超级酷。

但这基本上就是我如何开始使用 Streamlit 的乐趣。我构建的 Traingenerator 应用实际上有更多的商业或创业意图。我想，还是试试我自己的项目吧。我意识到我真的很喜欢用单行代码训练机器学习模型的想法，就像 FastAI 和 PyTorch Lightning 正在做的那样。PyTorch Lightning 是同一地区的一个图书馆。我在机器学习方面做了很多工作，我经常使用非常标准和基本的模型，并将它们应用到新的数据集或新的领域。有一件事一直困扰着我，那就是你正在采用一种超级标准的方法，但是你必须编写所有这些代码来实现一个模型，或者即使你有一个已实现的模型，你也必须测试它并调整它；您必须转换数据才能使用该模型。你必须写代码来跟踪你的度量和实验，诸如此类的东西。所以我的想法更多的是:我能不能做一些东西来简化这个过程，也许还能成为一个可行的产品，一个可行的企业？

我在这方面已经工作了一段时间，然后当我和一个朋友谈论这个项目以及 Python 库如何简化这个过程是很棒的时候，我想到了 Traingenerator 的想法，但是当你想要构建更复杂的东西时，它就达到了极限；很明显，因为你不能轻易进去调整东西。我们认为它对原型很有效，但是一旦你想把一个模型投入生产，你就必须从头开始。

然后我们有了这个想法，建立一个网络应用，在那里你可以放入你想要训练的东西和你想要使用的框架，然后它为你生成代码。你可以直接使用这些代码来训练模型，也可以随意修改，这就是 Traingenerator 所做的。

在那之后我做的其他东西，比如 GitHub 2020 应用([http://gh2020.jrieke.com/](http://gh2020.jrieke.com/))，也是最佳精简列表，这些更像是只是为了好玩的想法，个人项目，当然也是为了我的投资组合。

所有这些都很有趣。我用过几次 Traingenerator，非常喜欢。在你开发它的时候，也就是在 Streamlit Sharing 发布之前，你用 Heroku 部署了这个应用。我很好奇你是否还会做同样的事情；对于在哪里部署应用，您的决策流程是什么？

(Johannes)当时的原因很简单，我想有一个短的自定义网址；我不希望它是一个长的，不可理解的网址。但实际上，我现在已经将它移动到简化共享了！这只是比 Heroku 更好的开发者体验，因为应用在推送至 GitHub 的一秒钟内更新，无需重启或类似的事情。默认情况下，共享还不支持自定义网址，但论坛上有一个黑客，我现在正在使用。而且我已经因为这个功能请求让我们的产品经理很恼火了，所以我希望它不会花太长时间！

(泰勒)你创建的另一个应用是一个动态创建和分享用户 GitHub 统计数据的应用，名为 GitHub 上的 Year([http://gh2020.jrieke.com/](http://gh2020.jrieke.com/))。它变得相当受欢迎；我在网上看到的相当一致。你能给我们讲讲这个故事吗？

![Figure 12.2 – GitHub stats app
](img/B16864_12_2.jpg)

图 12.2–GitHub 统计应用

当然可以。所以背后的原因或想法实际上是一个超级随机的想法，我不知道我是如何得到它的。这背后没什么大故事。我已经建造了 Traingenerator，它非常受欢迎。我用 Streamlit 做了更多的东西，然后在圣诞节前几天，我想到要建立一个应用，你只需输入你的 GitHub 用户名，它就会显示你在 2020 年在 GitHub 上做了什么的一些统计数据。然后你就可以发微博了。所以这和他们每年年底做的 Spotify Wrapped 差不多。

在我有这个想法的几天后，一个新的 GitHub Python 库实际上是为 GitHub API 设计的，非常酷。然后我想，显然在 3 月或 4 月发布这样的东西没有任何意义，这意味着我需要在接下来的 2 周内构建它，并尽快发布。所以我整个圣诞假期都在做这个，它非常非常酷。

我想有四五百条推文随之产生。Julia 编程语言的创造者使用了它。真的很高兴看到，Streamlit 的员工也看到了所有的推文，所以我想这可能给我带来了一半的工作。

(泰勒)我有一个理论，如果你真的想在某个地方得到一份工作，你应该为他们开发一个简化的应用，解决他们的问题或者让他们注意到你。如果你这样做了，你就更有可能被那里录用。我已经尝试过几次了，通常最终都会变成一个提议。

实际上这根本不是有意的。那时候我甚至都没想过申请 Streamlit，但是效果还不错。回想起来，我认为他们内部都很喜欢它，因为它给 Streamlit 帐户的 Twitter 人数带来了巨大的增长，并且看到关于这个新应用的所有推文非常酷。

(泰勒)所有这些对我来说都有意义！因此，在 Streamlit 工作了 8 或 9 个月后，你决定在这里工作，并申请了那里的一份工作，然后得到了这份工作。首先恭喜你。其次，是什么让你认为这个库会成为数据科学和机器学习领域的一件大事？我对 Streamlit 有足够的信心来写一本书，所以我很清楚地同意你的观点，但你能谈谈你对该公司在这一领域的信念吗？

(Johannes)所以在我看来，Streamlit 的伟大之处在于开发人员的体验和它的简单性。在我目前作为一名产品工程师的工作中，我也研究了该领域的许多其他 web 框架和解决方案，并且我必须与它们打交道。当然也有其他工具有一些很酷的功能，可以让你做比 Streamlit 更复杂的事情，因为 Streamlit 还很年轻，但就开发人员的经验而言，开始做一些事情是多么简单，制作应用是多么有趣，这些工具都无法与 Streamlit 相提并论。我认为这里面有很多因素。

在简单性方面，你可以用几行代码在 5 分钟内完成一个应用。反正你写的只是普通的 Python 脚本；你不需要学习其他的课程或者任何关于前端开发的东西。对新人来说很直观。

然后是 Streamlit 的实时编码模型，它允许你对你的应用进行编码，同时 Streamlit 会重新运行你的应用。它非常智能地知道它要重新运行什么，尤其是在你使用缓存的情况下。我认为这是让 Streamlit 如此有趣和令人上瘾的原因，因为你可以通过立即看到结果来获得超级即时的反馈。

另一个方面是社区；Streamlit 社区太棒了。我的意思是，我们现在有这么多真正喜欢使用 Streamlit 的开发人员。论坛是一个很酷的交流想法和获取技巧的地方，有很多人非常敬业，他们每周都在空闲时间回答问题。

实际上，我们在 Streamlit 内部有三、四或五个人，他们在论坛上全职工作，与开发人员互动，向构建 Streamlit 应用的人发送礼物，我认为对于一个只有大约 25 名员工的公司来说，这是非常独特的。

(泰勒)我经常想到那种动态。当我开始时，感觉 Streamlit 只是一个非常好的工具。然后我开始更多地摆弄它。然后我意识到它可能更接近于一个玩具，在那里我只有不断的迭代和反馈循环。无论何时，当你拥有一件既是工具又是玩具的东西时，它最终都会表现得很好。

是啊，肯定的。我认为为什么 Streamlit 很酷，为什么我认为它在未来某个时候会变得更酷的一个重要方面是它也有很多部分。它不仅仅是开源库，它还简化了共享，如果你想部署你的模型，这是非常好和容易使用的。正如我所说，如果你有问题，你可以在论坛上得到帮助。我认为在未来，将会有更多的部分进入这个等式。

(Tyler)您的 Streamlit 开发经历已经进行了大约 9 个月。新手入门有什么小技巧吗？你希望你已经知道的事情？

实际上，我认为除了尝试之外，没有那么多的技巧可以给初学者。因为这就是 Streamlit 的酷之处；如果你从它开始，你基本上可以在 10 分钟左右后了解它的工作原理。而且就是超级容易上手。我也有几个朋友，我向他们推荐了 Streamlit，我不需要做很多说服工作。我只是跟他们说了一下，一天后，他们回来了，知道怎么用了。唯一的建议是在论坛上注册，如果你有任何问题，请以任何方式询问或联系我们。论坛上有很多乐于助人的人。正如我所说的，Streamlit 中有许多人的工作是与开发人员进行互动。

更复杂的东西，比如缓存和状态，对于初学者来说是不容易理解的，需要一些解释，这也是我们现在正在做的。

(泰勒)谢谢你，约翰尼斯，来和我们交谈；我相信人们从中获益匪浅。约翰尼斯的个人网站可以在 https://www.jrieke.com/找到。

# 采访# 3–阿德里安·蒂维尔

嗨，阿德里安！感谢愿意为此接受采访。在我们真正开始之前，你想告诉我一点关于你自己的情况吗？我知道你是卡内基梅隆大学的教授，在那之前你从事蛋白质折叠的研究。你也研究过自动驾驶汽车，现在是 Streamlit 的创始人。那么如何介绍自己呢？

(埃德里安娜)首先，当我还是一名教授的时候，这整个 Python 数据堆栈还算新鲜。NumPy 肯定是在 1.0 之前，有一种启示，有一个叫 NumPy 的惊人的库，突然之间，它使 Python 和 MATLAB 一样好，然后过了一段时间，way 比 MATLAB 更好。这是 Python 成为数值计算的主导语言的开始，然后最终是机器学习。Python 是一种脚本语言，一种系统管理语言，或者可能是 CS 101 语言。突然间，它有了巨大的、新的、超级重要的工业应用。它始于一群书呆子和教授在研究中使用它，他们发现它实际上非常有用，比用 c 编写我们自己的机器学习代码或数字代码容易得多。

我做的另一件事是创造电脑游戏，让人们开发科学问题，最终，数百万人玩了它们。快进一点，我去了谷歌工作。我有一个非常有趣、酷的职业生涯，处于技术和机器学习的交叉地带。

然后我开始 Streamlit。我们正在构建基于 15 年前使用的数字 Python 堆栈的工具(在它变得很酷之前)。Streamlit 的另一部分是建立一个社区。我认为 Streamlit 的这一方面非常特别。我的研究中的这两个主题回到了原点:数字 Python 世界和在线社区的构建。

(泰勒)在 2019 年 10 月的原始文档和此后的中型帖子中，Streamlit 最初被定位为机器学习工程师的工具。现在，你可以看到不同类型的人都在使用它。我不是 ML 工程师，但我一直在用。随着时间的推移，Streamlit 的理念发生了怎样的变化？

(埃德里安娜)总的来说，我非常真诚地说，你能观察到这一点非常酷。对于 Streamlit 内部的我们来说，我们谈论目标用户资料的方式发生了微小而微妙的变化。但不一定感觉有其他人在关注这些微妙的转变。看到别人注意到这一点真的很酷！

有几种方法可以回答这个问题。与机器学习或数据科学相比，Streamlit 对 Python 编程更为重要。它满足了 Python 编程中任何其他工具都不存在的需求。您可以编写命令行脚本。也有 Python GUI 框架，但是使用起来相当复杂，因为 GUI 应用开发是一种与数据工作完全不同的编程风格。你可以进入一个 Jupyter 笔记本，但是这又是一个完全不同的编程风格。

Streamlit 是 GUI 编程和脚本的混搭。对我来说，那是一件非常有用的事情。它实际上超越了机器学习。例如，Streamlit 的部分潜力是在 CS 101 中发挥作用。关于 Streamlit 的一个很酷的事情是有这个技术的想法，然后是我们如何将它应用到不同的问题和空间的想法。为了社区的利益，我们如何对申请进行优先排序，并创建一个可持续发展的公司？

(泰勒)我想多谈谈你刚才提到的社区，因为你之前已经开发了很多在线游戏，比如 FoldIt([https://fold.it/](https://fold.it/))，它有很强的众包功能。在我看来，有两个方面可以简化。一方非常注重社区。它是一种开源语言，任何人都可以在它的基础上进行构建，并且有很多可以轻松创建和添加的 Streamlit 组件。另一边是公司 Streamlit，它显然是为了最终扭亏为盈而存在的。你如何管理这两个方面？

(埃德里安娜)我不觉得我们必须做出选择。当两件事符合他们的利益时，每个人都是赢家。从商业模式的角度来看，我们正试图将这款软件推向数据科学中有大量用例的世界。例如，我在 Streamlit 中为我儿子的班级编写了一个电脑游戏，以帮助他们理解乘法。它也有很多工业应用。这两个群体是一致的:社区中为 Streamlit 做出贡献的人越多，我们针对这些行业应用的可寻址用户群就越多。

这是一个漏斗。数据科学家进入 Streamlit 的开源社区，然后流入我们的客户群。我们努力在漏斗的每个阶段发展，这对商业模式和社区都有好处。

(Tyler)你从十年构建在线众包游戏中学到了什么？因为这个社区感觉像一个元游戏，人们试图为其他人创建很酷的 Streamlit 应用。你如何培养它？这是有意的，还是仅仅因为它是一个很酷的工具？

(阿德里安)FoldIt 和 Streamlit 之间有一个有趣的相似之处，那就是它们都被设计成类似玩具的样子。“玩具”——这是游戏设计中的一个技术术语——是一种没有规则的游戏，你只是想玩玩。没有美国大兵的使用手册。它只是你通过让它做事来玩的东西。你也可以添加规则，但不是必须的。

这是 Streamlit 的另一个类似游戏的方面:人们建立 Streamlit 应用，并把它们放到网上交流想法，炫耀工作，并获得赞扬。这有助于其他人了解 Streamlit，然后他们会开发更多的应用并进一步扩大社区。我们意识到，“哇，这种出版和赞扬的循环对我们来说是一个惊人的增长载体。”我们已经做了一些努力来支持那些把他们的工作放在那里的人们，但是我不认为我们已经真正探索了 Streamlit 的这个方面的大部分可能性。我们只是没有时间去执行，因为有太多重要的事情要做。

(Tyler)如果我们在谈论公司优先级，你认为公司现在的优先级如何？您谈到了漏斗，因此有三个主要部分，数据科学家，使用 Streamlit 的数据科学家，以及在公司内部使用 Streamlit 的数据科学家。Streamlit 目前的重点在哪里？

(埃德里安娜)实际上还有一个阶段，即有多少人在观看这些公司内部开发的应用，因为我们目前的定价计划是基于收视率，而不是开发者的数量。每个月每个观众要花掉几美元。

因此，我们划分优先级的方式侧重于管道的另一个层面。

我们将发布后的第一年称为“开发者年”，这是关于开源社区的发展。经历指数级增长会导致运营的不连续变化。我们对此没有准备。我们让整个工程团队轮流回答社区论坛中的问题。他们给出了超级明智的答案，但工程团队实际上停顿了三个月。然后我们意识到，哦，糟糕，我们不能雇佣工程师来解决我们的社区问题。

我们现在所处的第二个年是“客户年”这都是关于建立最初的货币化引擎和创建一个自助服务机制，这样你基本上可以成为一个 Streamlit 用户，点击一个按钮，就可以为团队实现 Streamlit。我们还没有到那一步，但是所有的部分都在一起了！

(Tyler)阅读本文的许多人将刚刚开始 Python 开发，或者他们可能处于学习 Python 和数据科学的初级/中级阶段。他们有相当多的其他选择，从 Django 或 Flask 到无代码工具，再到其他 dashboarding 框架。他们甚至可以转向 R 闪亮的应用开发。你对新用户的精辟论点是什么？为什么选择 Streamlit？

(埃德里安娜)我觉得你应该试试。Twitter 上有很多关于 Streamlit 有多“酷”的观点。我觉得它很强大，很酷。Streamlit 基于脚本的思想，这是考虑数据流的一个非常自然和简单的范例。我不认为其他人真的会这么做。这应该是一种神奇的感觉。编码实际上并不神奇，但它非常有趣。受过高等教育、收入高得令人难以置信的人制作应用只是因为它有趣，所以我们喜欢从这个角度来看待它。你应该感觉到你得到的回报比你输入每个函数调用所花费的要多，如果这是你得到的那种情绪化的东西，那么经历这些是令人兴奋的。

(泰勒)在我看来，我开始是因为它容易，然后留下来是因为它是最好的，你知道吗？

(埃德里安娜)我认为有一点是正确的(也许我在这一点上是错的),即在这个可视化/仪表板应用/开发领域有很多东西，你越了解它们的工作方式，越深入了解它们，你就越失望。你看到的演示看起来是可定制的，看起来很棒，但是当你实际经历构建或试图复制演示的体验时，实际上很难实现他们在网站上承诺的事情。

Streamlit 不是这样的。当你看到图库中所有的演示应用([https://streamlit.io/gallery](https://streamlit.io/gallery))时，它们真的很容易上手。我们不想在“让我们建立一个巨大的、完美的应用”领域竞争。

(泰勒)感谢前来和我们聊！我们应该指出的主要内容显然是中央 Streamlit 网站(【https://streamlit.io/】T2)。你可以在 https://medium.com/@adrien.g.treuille 的[找到阿德里安的文章，也可以在 https://twitter.com/myelbows 的](https://medium.com/@adrien.g.treuille)[推特上找到他。](https://twitter.com/myelbows)

# 采访 4 号——查尔斯·瓦格纳

嘿，查理！非常感谢前来和我们交谈。首先，你能向读者介绍一下你自己吗？

嘿，你好！我是法国人，已经在英国生活了大约 13 年。我在英国主要做数字营销、商业智能和 **SEO** ( **搜索引擎优化**)咨询。在过去的几年里，我转向了数据工程和数据科学。此外，我在内部和代理方面都工作过，也为零售行业的大公司和许多小企业工作过。但从 2014 年开始，主要是企业，2008 年到 2014 年的时间是和小企业在一起。

(泰勒)让我们倒退半秒钟；从事 SEO 是一种怎样的体验？那实际上看起来像什么？

(Charly)我的核心技能主要是技术 SEO。正如你可能想象的那样，SEO 是一个广阔的领域，我的核心技能是关于网站的技术细节，它的编码方式，或者它被爬行或被网络爬虫通过的方式。以确保 Google 和 Bing 能够准确抓取这些大型网站。显然，这涉及到很多事情，比如确保付费搜索与 SEO 的协同作用。

这是一份非常多才多艺的工作，你不仅要与 SEO 人员联络，还要与开发网站的人员联络，甚至还要与公关、内容和产品人员联络。就互动而言，这是最通用的工作之一。

明白了，一切都说得通了。另一个我们还没有提到的是 Streamlit。你经常使用 Streamlit，并且是一个多产的创作者。Streamlit 的什么地方让它对您如此有价值？

(Charly)我曾经通过 Google Colab 或 Jupyter Notebook 向人们提供一些 Python 脚本。自从我使用 Streamlit 以来，我不再需要发送脚本；我可以直接发送这些应用！我可以向他们展示一些 SEO 应用或功能，除非他们是开发人员，否则他们不会使用这些应用或功能。它真的扩大了范围和用户采用。在过去几个月里，在我合作过的几家公司里，我已经能够让更多的人开始使用我设计的搜索引擎优化应用。这是一个非常非常大的转变。

多有趣啊！Python 中的另一个选择是为 Django 应用制作 Flask 你有没有想过为 SEO 应用做类似的事情？

(Charly)是的，我以前确实开发过一些 Flask 应用，但对我来说开发起来很麻烦，因为它需要大量的 HTML 或 JavaScript 技能。但有了 Streamlit，它真的让我能够非常快速地创作一些东西，并与人分享。所以没有烧瓶，我尝试了一点 Django，但学习曲线实际上相当陡峭。在姜戈，我通常要花很长时间来设计任何东西。所以，没错，确实没有可比性。我暂时把 Flask 和 Django 放在一边，我真的优先考虑 Streamlit。

(Tyler)完全同意，我已经在 Streamlit 之前做了一堆不同的数据科学项目，我的两个选择一直是将其放在 Jupyter 笔记本或博客帖子中，或者在 Flask 中制作一个完全成熟的应用。对我来说，过去的问题是，在 Streamlit 之前，制作一个完整的应用所需的时间和精力相差太大。这将使项目时间加倍！使用 Streamlit，比制作 Jupyter 笔记本稍微困难一点，但输出却好得多。

(Charly)我目前正在尝试学习 React，这样我就可以做一些更加集成和完善的东西，并使用 Streamlit 作为 MVP。所以我使用了一些其他的网络框架，但是你是对的。就速度而言，至今没有什么能胜过 Streamlit。我认为最接近的是 Panel([https://panel.holoviz.org/](https://panel.holoviz.org/))，它灵活且非常简单，但我认为 Streamlit 和 Panel 之间的最大区别是社区。Streamlit 社区非常热情，包括你和其他人。甚至在几年前，我几乎没有用 Python 编写任何东西，而 Streamlit 是我真正喜欢的应用。我认为社区真的很关键。

(Tyler)说到社区，您确实参与了 SEO 和 Streamlit 社区。你已经创建了像 stremea([https://www . charlywargnier . com/post/stremea-entity-analyzer](https://www.charlywargnier.com/post/streamea-entity-analyzer))这样的应用，它从网页中提取并分析实体；你是如何开发出这样的应用的？你是解决自己的问题，然后把它变成一个应用，还是从老客户那里获取老的 Python 脚本，然后把它们变成应用？

(查理)所以它实际上是不同事物的混合体。你在那里引用了不少。首先，我正在解决我自己遇到的问题，因为我已经做了多年的 SEO，所以我经常遇到 SEO 问题，我的想法是通过创建一个应用来解决这些问题，这样其他人也可以使用这个解决方案。我一直对 web 应用很着迷；我记得早在 2013 年，我就有一个开发网络应用的极客梦想！你说对的另一件事是，我有许多 Jupyter 笔记本和脚本，我已经使用了多年，说到用户采用，我想确保任何人都可以试用它们。

我通常也在我的公司内部或者从我工作过的客户那里收集反馈，所以我得到了很多用户的反馈。有时也只是偶然发现一些我很好奇的在线新图书馆，就像你一样。最后的事情是付费方面；市场上有很多搜索引擎优化选项，可能相当昂贵。如果我可以说的话，我认为我的一个秘密愿望是能够让这些应用免费可用。我有一种负罪感，很乐意接受一个人们愿意每月支付数百或数千英镑的应用，并免费用 Python 重新创建它。这是一种很好的满足感！

(Tyler)我很想多谈谈 StreamEA，你能谈谈你在创建这个应用时遇到的任何开发困难吗？那个过程是什么样的？

![Figure 12.3 – StreamEA
](img/B16864_12_3.jpg)

图 12.3–stream a

(Charly)嗯，实体分析是 SEO 领域的一个热门话题。谷歌已经从纯粹的关键词转向不同种类的语义进步，比如实体。当谷歌把一些排名值或权重放在这些实体上时，你要确保你的页面或网站准确地定位这些实体。

就挑战而言，有相当多的代码，但不一定太有挑战性。Google 自然语言 API 非常简单。因此，构建应用的方式包括两个主要部分，BeautifulSoup 的抓取部分和 API 的实体分析部分。这里的困难是，默认情况下，自然语言 API 检索一些数据，您需要创建一些函数，在字典和数据框之间来回转换，这是一个挑战，因为当我去年 8 月开始时，我的 Python 知识不一定很好。我记得我为此挣扎了很久，为了能够以一种适合我的数据框架的方式使用谷歌的 API。现在，这将是小菜一碟，但我记得这对我来说是一个瓶颈和学习经历。

然后你有一个小小的预算估算器，因为如果不加控制，Google NLP API 会很贵！很多人都在浏览维基百科，它可能会有很长的页面，所以我认为拥有这种小预算估算器会很有用，它可以估算使用 StreamEA (StreamEA 让你上传自己的 Google API 凭证)的成本。

最近，我开源了另一个应用，它从维基百科的 URL 中进行实体关系检索。我还没有对它进行任何预算估计，人们对我有点不耐烦，这就是为什么我在它上面放了一个警告。它不仅会抓取你输入的维基百科网址，还会抓取任何子页面，这些子页面会无限制地变得疯狂。前几天，有些人用脚本将应用推到了最大，例如，主页上的 100 个孩子，它长得惊人。而且他们被谷歌收了几百英镑！

(泰勒)这是我在一开始建立 AWS 或 GCP 账户时向人们推荐的一件事，你应该绝对将预算限制在你能承受的范围内，这样他们就会在你花接近那个数额的钱之前关闭你的服务。

你差不多是同时开始使用 Python 和 Streamlit 的，你对初学者有什么建议吗？有什么事情是你希望自己在刚开始的时候就知道的吗？

(Charly)我在 2016 年或 2017 年开始使用 Python，在那里我实际上是去 GitHub，带一些脚本，不对它们做任何事情。只是使用 Python，而不一定理解它是关于什么的。然后我开始用 Jupyter Notebook 在线学习，最终我有机会开始构建一些 web 应用。

但是回到你的问题，我给新用户的建议是依靠社区。对于 Streamlit，我认为这使我们与众不同。我会说不要太害羞！那里的人们非常乐于助人，他们肯定会尽力帮忙。也不要害怕分享任何东西；拥抱 Twitter，与他人分享信息。不要害怕分享你的项目和进展，而不仅仅是最终产品；反正没有成品这种东西。我真的是在真空中工作，为自己工作，如果你不分享你的工作，那么你就不会从社区的反馈中获得这种良好的情感推动。

它永远不会完美；你永远不会准备好。所以早点放就好了；经常放！如果应用有一些问题，不要担心。只要在你的推文或帖子中加以说明，人们就会理解。我是说，另外，你的工具是免费的。所以人不能要求太高。

(Tyler)当我刚开始在学校开发和从事数据科学工作时，我从来不会分享任何东西，因为我太紧张了，与所有专业人士相比，这还不够好。所以我会做所有这些东西，从来不给任何人看，因为我觉得不够好。当我意识到这是行不通的，我开始分享更多我的项目时，它变得更好，更有趣。

这些年来你发布了很多项目，真的很棒。令人印象深刻。

谢谢你！你还有其他正在做的事情想要宣传吗？

哦，是的，你可以想象现在有很多东西在烧烤。大约 2 年前，我开始着手其中一些应用，但是是作为脚本或笔记本，我正在慢慢地将它们转换成简化应用。我想把 StreamEA 变成一个对 SEO 更有用的付费应用。我也有一些机器学习应用正在开发中，我希望能很快发布。

(泰勒)非常感谢你来和我们交谈！你可以在 https://twitter.com/DataChaz 的推特上找到查理。

# 总结

这就总结出了 [*第十二章*](B16864_12_Final_VK_ePub.xhtml#_idTextAnchor131)*Streamlit Power Users*，还有这本书！我们在这一章中涵盖了如此多的深刻内容，从使用 Fanilo 讨论社区开发的重要性到使用 Johannes 讨论一些流行应用的实际示例，甚至讨论了 Streamlit 类似玩具的功能以及 Streamlit 下一步将如何使用 Adrien。我们得到了过去几年(2019 年和 2020 年)Streamlit 的简短历史教训，从 Charly 那里听说了 SEO 生态系统，并在此过程中学习了技巧和诀窍。我最喜欢的一些技巧是加入 Fanilo 的论坛并在论坛上发帖，将 Johannes 的你认为有趣的 Streamlit 应用放在网上，以及了解 Adrien 的 Streamlit 类似玩具的方面。

我只想说谢谢你看了这本书；对我来说，这是一项充满爱的工作，我希望您能联系我，让我知道它如何影响了您的 Streamlit 开发人员体验。你可以在 https://twitter.com/tylerjrichards 的推特上找到我，我希望你读这本书的时候和我写这本书的时候一样开心。谢谢你，去做一些牛逼的 Streamlit 应用吧！